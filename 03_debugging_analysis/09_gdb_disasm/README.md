# –¢–µ–º–∞ 9: GDB –æ—Ç–ª–∞–¥–∫–∞ –∏ –¥–∏–∑–∞—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìö –û–ø–∏—Å–∞–Ω–∏–µ

GDB (GNU Debugger) - –º–æ—â–Ω—ã–π –æ—Ç–ª–∞–¥—á–∏–∫ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º –Ω–∞ C/C++. –ü–æ–Ω–∏–º–∞–Ω–∏–µ GDB –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è:
- –ê–Ω–∞–ª–∏–∑–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –∏ —ç–∫—Å–ø–ª–æ–π—Ç–æ–≤
- –†–µ–≤–µ—Ä—Å-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥–∞
- –û—Ç–ª–∞–¥–∫–∏ —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º
- –ü–æ–Ω–∏–º–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º –Ω–∞ —É—Ä–æ–≤–Ω–µ –∞—Å—Å–µ–º–±–ª–µ—Ä–∞

## üéØ –¶–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GDB –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º
- –†–∞–±–æ—Ç–∞ —Å —Ç–æ—á–∫–∞–º–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞ (breakpoints)
- –ê–Ω–∞–ª–∏–∑ –ø–∞–º—è—Ç–∏ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤
- –î–∏–∑–∞—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω–æ–≥–æ –∫–æ–¥–∞

## üîó –°–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Ç–µ–º–∞–º–∏

### –ü—Ä–µ–¥—ã–¥—É—â–∏–µ —Ç–µ–º—ã
- [–¢–µ–º–∞ 5: Memory layout](../../01_cpp_fundamentals/05_memory_layout/) - –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏
- [–¢–µ–º–∞ 7: File I/O](../../01_cpp_fundamentals/07_file_io/) - –æ—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å —Ñ–∞–π–ª–∞–º–∏
- [–¢–µ–º–∞ 8: TCP Client-Server](../../02_networking/08_tcp_client_server/) - –æ—Ç–ª–∞–¥–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### –°–ª–µ–¥—É—é—â–∏–µ —Ç–µ–º—ã
- [–¢–µ–º–∞ 12: strace/ltrace](../12_strace_ltrace/) - –∞–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
- [–¢–µ–º–∞ 22: CVE Analysis](../../08_advanced_topics/22_cve_analysis/) - –∞–Ω–∞–ª–∏–∑ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π —Å –ø–æ–º–æ—â—å—é GDB

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã

```
09_gdb_disasm/
‚îú‚îÄ‚îÄ README.md                    # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ examples/                    # –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ ‚úÖ
‚îî‚îÄ‚îÄ gdb_scripts/                 # –°–∫—Ä–∏–ø—Ç—ã GDB ‚úÖ
```

## üöÄ –ó–∞–ø—É—Å–∫

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–∏–º–µ—Ä–æ–≤

```bash
# –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
cd examples
g++ -g -Wall -o simple_debug simple_debug.cpp

# –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ–º –±—É—Ñ–µ—Ä–∞ (–¥–ª—è –∏–∑—É—á–µ–Ω–∏—è)
g++ -g -fno-stack-protector -z execstack -o buffer_overflow buffer_overflow.cpp
```

### –ó–∞–ø—É—Å–∫ GDB

```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
gdb ./simple_debug

# –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–∫—Ä–∏–ø—Ç–∞
gdb -x ../gdb_scripts/debug_simple.gdb ./simple_debug
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã GDB

```gdb
# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã
(gdb) run
(gdb) run –∞—Ä–≥—É–º–µ–Ω—Ç1 –∞—Ä–≥—É–º–µ–Ω—Ç2

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ—á–µ–∫ –æ—Å—Ç–∞–Ω–æ–≤–∞
(gdb) break main
(gdb) break function_name
(gdb) break file.cpp:42

# –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
(gdb) continue
(gdb) step      # –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É (—Å –∑–∞—Ö–æ–¥–æ–º –≤ —Ñ—É–Ω–∫—Ü–∏–∏)
(gdb) next      # –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É (–±–µ–∑ –∑–∞—Ö–æ–¥–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏)

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–¥–∞
(gdb) list
(gdb) disassemble

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
(gdb) print variable
(gdb) print array[0]@10
(gdb) info locals
(gdb) info args

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–µ–∫–∞
(gdb) backtrace
(gdb) info stack
(gdb) frame 0

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–∞–º—è—Ç–∏
(gdb) x/10xb $rsp
(gdb) x/s pointer
```

## üìñ –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å

### –ß—Ç–æ —Ç–∞–∫–æ–µ GDB?

GDB (GNU Debugger) - —ç—Ç–æ –æ—Ç–ª–∞–¥—á–∏–∫ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º –Ω–∞ C/C++ –∏ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç–æ—á–∫–∞—Ö
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ò–∑–º–µ–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤
- –ò–∑—É—á–∞—Ç—å –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–π –∫–æ–¥

### –¢–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞ (Breakpoints)

**–¢–∏–ø—ã —Ç–æ—á–µ–∫ –æ—Å—Ç–∞–Ω–æ–≤–∞:**
- **–û–±—ã—á–Ω–∞—è —Ç–æ—á–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∞:** –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Å—Ç—Ä–æ–∫–∏
- **–£—Å–ª–æ–≤–Ω–∞—è —Ç–æ—á–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∞:** –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏—è
- **–¢–æ—á–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∞ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏:** –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Ñ—É–Ω–∫—Ü–∏—é
- **–¢–æ—á–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∞ –Ω–∞ –∞–¥—Ä–µ—Å–µ:** –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –∞–¥—Ä–µ—Å–∞ –ø–∞–º—è—Ç–∏

### –ê–Ω–∞–ª–∏–∑ –ø–∞–º—è—Ç–∏

GDB –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø–∞–º—è—Ç—å –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö:
- `x/10xb` - 10 –±–∞–π—Ç –≤ —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- `x/10xw` - 10 —Å–ª–æ–≤ (4 –±–∞–π—Ç–∞) –≤ —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- `x/s` - —Å—Ç—Ä–æ–∫–∞ (–¥–æ –Ω—É–ª–µ–≤–æ–≥–æ –±–∞–π—Ç–∞)
- `x/i` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∞—Å—Å–µ–º–±–ª–µ—Ä–∞

### –î–∏–∑–∞—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

```gdb
# –ü–æ–∫–∞–∑–∞—Ç—å –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–π –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏
(gdb) disassemble function_name

# –ü–æ–∫–∞–∑–∞—Ç—å –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–π –∫–æ–¥ –≤–æ–∫—Ä—É–≥ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏
(gdb) disassemble $pc

# –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∏ –∞—Å—Å–µ–º–±–ª–µ—Ä
(gdb) disassemble /m function_name
```

## üõ† –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å

### –ü—Ä–∏–º–µ—Ä 1: –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã

–°–º. [examples/simple_debug.cpp](./examples/simple_debug.cpp) –∏ [gdb_scripts/debug_simple.gdb](./gdb_scripts/debug_simple.gdb)

### –ü—Ä–∏–º–µ—Ä 2: –ê–Ω–∞–ª–∏–∑ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –±—É—Ñ–µ—Ä–∞

–°–º. [examples/buffer_overflow.cpp](./examples/buffer_overflow.cpp) –∏ [gdb_scripts/analyze_buffer.gdb](./gdb_scripts/analyze_buffer.gdb)

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

1. **–û—Ç–ª–∞–¥–∫–∞ –æ—à–∏–±–∫–∏ –≤ —Ü–∏–∫–ª–µ:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `simple_debug.cpp`
   - –ù–∞–π–¥–∏—Ç–µ –æ—à–∏–±–∫—É –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `calculate_sum`
   - –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫—É –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

2. **–ê–Ω–∞–ª–∏–∑ —Å—Ç–µ–∫–∞:**
   - –ò–∑—É—á–∏—Ç–µ —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –ø—Ä–∏ —Ä–µ–∫—É—Ä—Å–∏–∏
   - –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ —Å—Ç–µ–∫–∞

3. **–ê–Ω–∞–ª–∏–∑ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –±—É—Ñ–µ—Ä–∞:**
   - –ò–∑—É—á–∏—Ç–µ, –∫–∞–∫ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å—Ç–µ–∫
   - –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∞–¥—Ä–µ—Å –≤–æ–∑–≤—Ä–∞—Ç–∞ –¥–æ –∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è

## üîç –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏

1. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –∫–æ–º–∞–Ω–¥–∞–º–∏ `step` –∏ `next`?
2. –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ—á–∫—É –æ—Å—Ç–∞–Ω–æ–≤–∞ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–µ?
3. –ö–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–∞—Å—Å–∏–≤–∞ –≤ GDB?
4. –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ `backtrace`?
5. –ö–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–π –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏?
6. –ß—Ç–æ —Ç–∞–∫–æ–µ frame –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Å—Ç–µ–∫–∞ –≤—ã–∑–æ–≤–æ–≤?
7. –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤–æ –≤—Ä–µ–º—è –æ—Ç–ª–∞–¥–∫–∏?

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [GDB Documentation](https://www.gnu.org/software/gdb/documentation/)
- [GDB Tutorial](https://www.tutorialspoint.com/gnu_debugger/)

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ë–∞–∑–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –ø—Ä–∏–º–µ—Ä—ã —Å–æ–∑–¥–∞–Ω—ã  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025

