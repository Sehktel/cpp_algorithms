# –ü—Ä–æ–≤–µ—Ä–∫–∞ GPG –ø–æ–¥–ø–∏—Å–µ–π

## üìö –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ–¥–ø–∏—Å–∏ GPG –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤.

## üéØ –¶–µ–ª–∏

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å —Ñ–∞–π–ª–∞
- –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
- –ü–æ–Ω—è—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–≤–µ—Ä–∏–µ –∫ –∫–ª—é—á–∞–º

## üöÄ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ

### –®–∞–≥ 1: –ò–º–ø–æ—Ä—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞

–ü–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–¥–ø–∏—Å–∏ –Ω—É–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è.

```bash
# –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á –∏–∑ —Ñ–∞–π–ª–∞
gpg --import sender_public_key.asc

# –ò–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –∫–ª—é—á–µ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
gpg --keyserver keyserver.ubuntu.com --recv-keys ABC123DEF4567890ABCDEF1234567890ABCDEF12

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏
gpg --list-keys
```

**–í–∞–∂–Ω–æ:** 
- –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á –±—É–¥–µ—Ç –∏–º–µ—Ç—å —Å—Ç–∞—Ç—É—Å `[unknown]` –∏–ª–∏ `[untrusted]`
- –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø–µ—á–∞—Ç–æ–∫ –∫–ª—é—á–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–æ–≤–µ—Ä–∏–µ

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–ø–µ—á–∞—Ç–∫–∞ –∫–ª—é—á–∞

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–ø–µ—á–∞—Ç–æ–∫ –∫–ª—é—á–∞
gpg --fingerprint sender-email@example.com

# –°—Ä–∞–≤–Ω–∏—Ç—å —Å –æ—Ç–ø–µ—á–∞—Ç–∫–æ–º, –ø–æ–ª—É—á–µ–Ω–Ω—ã–º –∏–∑ –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
# (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–∏—á–Ω–æ, –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É, —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π –∫–∞–Ω–∞–ª —Å–≤—è–∑–∏)
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
pub   rsa4096 2025-01-15 [SC]
      ABC1 234D EF45 6789 0ABC DEF1 2345 6789 0ABC DEF1 2
uid           [ unknown] –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ <ivan@example.com>
sub   rsa4096 2025-01-15 [E]
```

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–≤–µ—Ä–∏—è –∫ –∫–ª—é—á—É

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —É—Ä–æ–≤–Ω—è –¥–æ–≤–µ—Ä–∏—è
gpg --edit-key sender-email@example.com
```

**–í –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ:**
```
gpg> trust
# –í—ã–±—Ä–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è:
# 1 = –ù–µ –∑–Ω–∞—é
# 2 = –ù–µ –¥–æ–≤–µ—Ä—è—é
# 3 = –î–æ–≤–µ—Ä—è—é —á–∞—Å—Ç–∏—á–Ω–æ
# 4 = –î–æ–≤–µ—Ä—è—é –ø–æ–ª–Ω–æ—Å—Ç—å—é
# 5 = –î–æ–≤–µ—Ä—è—é –∞–±—Å–æ–ª—é—Ç–Ω–æ
# m = –°–≤–æ–π —É—Ä–æ–≤–µ–Ω—å

–í–∞—à –≤—ã–±–æ—Ä: 4
gpg> quit
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ (–æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –ø–æ–¥–ø–∏—Å–∏)

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
gpg --verify test_file.txt.asc test_file.txt

# –ò–ª–∏ –µ—Å–ª–∏ —Ñ–∞–π–ª –ø–æ–¥–ø–∏—Å–∏ –∏–º–µ–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∏–º—è
gpg --verify test_file.txt.asc
```

**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```
gpg: Signature made Wed Jan 15 12:00:00 2025 MSK
gpg:                using RSA key ABC123DEF4567890ABCDEF1234567890ABCDEF12
gpg: Good signature from "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ <ivan@example.com>" [full]
```

**–ü—Ä–∏–º–µ—Ä –Ω–µ—É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```
gpg: Signature made Wed Jan 15 12:00:00 2025 MSK
gpg:                using RSA key ABC123DEF4567890ABCDEF1234567890ABCDEF12
gpg: BAD SIGNATURE from "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ <ivan@example.com>" [full]
```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–ø–∏—Å–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–ø–∏—Å—å—é
gpg --verify test_file.txt.asc

# GPG –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ—á–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª –∏ –ø–æ–¥–ø–∏—Å—å
```

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
gpg --verify binary_file.exe.asc binary_file.exe
```

## üìñ –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å

### –ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏

```
1. –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–¥–ø–∏—Å–∏
   ‚îî‚îÄ> –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ö–µ—à–∞

2. –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ —Ö–µ—à–∞ –ø—É–±–ª–∏—á–Ω—ã–º –∫–ª—é—á–æ–º
   ‚îî‚îÄ> hash1 = decrypt(signature, public_key)

3. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ö–µ—à–∞ —Ñ–∞–π–ª–∞
   ‚îî‚îÄ> hash2 = hash(file_content)

4. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ö–µ—à–µ–π
   ‚îî‚îÄ> –ï—Å–ª–∏ hash1 == hash2: –ø–æ–¥–ø–∏—Å—å –≤–∞–ª–∏–¥–Ω–∞
       –ï—Å–ª–∏ hash1 != hash2: –ø–æ–¥–ø–∏—Å—å –Ω–µ–≤–∞–ª–∏–¥–Ω–∞
```

### –°—Ç–∞—Ç—É—Å—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

**Good signature:**
- –ü–æ–¥–ø–∏—Å—å –≤–∞–ª–∏–¥–Ω–∞
- –§–∞–π–ª –Ω–µ –±—ã–ª –∏–∑–º–µ–Ω–µ–Ω
- –ü–æ–¥–ø–∏—Å—å —Å–æ–∑–¥–∞–Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–º –∫–ª—é—á–æ–º

**BAD signature:**
- –ü–æ–¥–ø–∏—Å—å –Ω–µ–≤–∞–ª–∏–¥–Ω–∞
- –§–∞–π–ª –±—ã–ª –∏–∑–º–µ–Ω–µ–Ω –ø–æ—Å–ª–µ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è
- –ò–ª–∏ –ø–æ–¥–ø–∏—Å—å —Å–æ–∑–¥–∞–Ω–∞ –¥—Ä—É–≥–∏–º –∫–ª—é—á–æ–º

**No public key:**
- –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω
- –ù—É–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è

**Untrusted key:**
- –ö–ª—é—á –Ω–∞–π–¥–µ–Ω, –Ω–æ –Ω–µ –¥–æ–≤–µ—Ä–µ–Ω
- –ù—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è

### –£—Ä–æ–≤–Ω–∏ –¥–æ–≤–µ—Ä–∏—è

**Unknown (–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π):**
- –ö–ª—é—á –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω, –Ω–æ –¥–æ–≤–µ—Ä–∏–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- –ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å, –Ω–æ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º

**Marginal (–ß–∞—Å—Ç–∏—á–Ω–æ–µ):**
- –ö–ª—é—á –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏
- –û–±—ã—á–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤

**Full (–ü–æ–ª–Ω–æ–µ):**
- –ö–ª—é—á –ø–æ–¥–ø–∏—Å–∞–Ω –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –∫–ª—é—á–µ–π
- –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤—Ä—É—á–Ω—É—é

**Ultimate (–ê–±—Å–æ–ª—é—Ç–Ω–æ–µ):**
- –í–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–ª—é—á
- –ò–ª–∏ –∫–ª—é—á, –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã –∞–±—Å–æ–ª—é—Ç–Ω–æ –¥–æ–≤–µ—Ä—è–µ—Ç–µ

## üõ† –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –∞—Ä—Ö–∏–≤–∞

```bash
# –°–∫–∞—á–∞—Ç—å –∞—Ä—Ö–∏–≤ –∏ –ø–æ–¥–ø–∏—Å—å
wget https://example.com/project.tar.gz
wget https://example.com/project.tar.gz.asc

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å
gpg --verify project.tar.gz.asc project.tar.gz
```

### –ü—Ä–∏–º–µ—Ä 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å–µ–π

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ø–æ–¥–ø–∏—Å–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
for sig in *.asc; do
    file="${sig%.asc}"
    if [ -f "$file" ]; then
        echo "–ü—Ä–æ–≤–µ—Ä–∫–∞: $file"
        gpg --verify "$sig" "$file"
    fi
done
```

### –ü—Ä–∏–º–µ—Ä 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –≤—ã–≤–æ–¥–æ–º —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
if gpg --verify file.txt.asc file.txt 2>&1 | grep -q "Good signature"; then
    echo "‚úÖ –ü–æ–¥–ø–∏—Å—å –≤–∞–ª–∏–¥–Ω–∞"
else
    echo "‚ùå –ü–æ–¥–ø–∏—Å—å –Ω–µ–≤–∞–ª–∏–¥–Ω–∞"
    exit 1
fi
```

### –ü—Ä–∏–º–µ—Ä 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –≤ —Å–∫—Ä–∏–ø—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
#!/bin/bash
# –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–¥–ø–∏—Å–∏

ARCHIVE="software.tar.gz"
SIGNATURE="software.tar.gz.asc"
PUBLIC_KEY="developer.asc"

# –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
gpg --import "$PUBLIC_KEY"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å
if gpg --verify "$SIGNATURE" "$ARCHIVE"; then
    echo "–ü–æ–¥–ø–∏—Å—å –≤–∞–ª–∏–¥–Ω–∞, —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞—é..."
    tar -xzf "$ARCHIVE"
else
    echo "–û–®–ò–ë–ö–ê: –ü–æ–¥–ø–∏—Å—å –Ω–µ–≤–∞–ª–∏–¥–Ω–∞!"
    exit 1
fi
```

## üîç –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏

1. –ü–æ—á–µ–º—É –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ—Ç–ø–µ—á–∞—Ç–æ–∫ –∫–ª—é—á–∞ –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –¥–æ–≤–µ—Ä–∏—è?
2. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É "Good signature" –∏ "BAD signature"?
3. –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "Untrusted key"?
4. –ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å –±–µ–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞?
5. –ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ–¥–ø–∏—Å–∏ –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è?

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [GPG Verification Guide](https://www.gnupg.org/gph/en/manual/x135.html)
- [Web of Trust](https://en.wikipedia.org/wiki/Web_of_trust)
- [Key Signing Parties](https://en.wikipedia.org/wiki/Key_signing_party)

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ú–∞—Ç–µ—Ä–∏–∞–ª —Å–æ–∑–¥–∞–Ω  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025

