# –¢–µ–º–∞ 6: –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ C++

## üìö –û–ø–∏—Å–∞–Ω–∏–µ

–û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è - –æ—Å–Ω–æ–≤–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É—Ç–∏–ª–∏—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏. –í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è:
- –°–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (scanners, analyzers)
- –ü–∞—Ä—Å–∏–Ω–≥–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É—Ç–∏–ª–∏—Ç
- –ü–æ–Ω–∏–º–∞–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤ –∞—Ç–∞–∫ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ê–Ω–∞–ª–∏–∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º (–∫–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–Ω–∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç)

## üéØ –¶–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è

- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (argc, argv)
- –ü–∞—Ä—Å–∏–Ω–≥ –æ–ø—Ü–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º getopt/getopt_long
- –†–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –°–æ–∑–¥–∞–Ω–∏–µ —É–¥–æ–±–Ω–æ–≥–æ CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

## üîó –°–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Ç–µ–º–∞–º–∏

### –ü—Ä–µ–¥—ã–¥—É—â–∏–µ —Ç–µ–º—ã
- –ë–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è C++ (—Å—Ç—Ä–æ–∫–∏, –º–∞—Å—Å–∏–≤—ã)

### –°–ª–µ–¥—É—é—â–∏–µ —Ç–µ–º—ã
- [–¢–µ–º–∞ 7: File I/O](../07_file_io/) - –ø–µ—Ä–µ–¥–∞—á–∞ –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
- [–¢–µ–º–∞ 8: TCP Client-Server](../../02_networking/08_tcp_client_server/) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä—Ç–æ–≤ –∏ –∞–¥—Ä–µ—Å–æ–≤ —á–µ—Ä–µ–∑ CLI
- [–¢–µ–º–∞ 9: GDB –æ—Ç–ª–∞–¥–∫–∞](../../03_debugging_analysis/09_gdb_disasm/) - –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ—Ç–ª–∞–¥—á–∏–∫—É
- [–¢–µ–º–∞ 12: strace/ltrace](../../03_debugging_analysis/12_strace_ltrace/) - –∞–Ω–∞–ª–∏–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
- [–¢–µ–º–∞ 21: DFIR](../../07_forensics/21_dfir/) - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ñ–æ—Ä–µ–Ω–∑–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç CLI –∞—Ä–≥—É–º–µ–Ω—Ç—ã

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã

```
06_cli_args/
‚îú‚îÄ‚îÄ README.md                    # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ arg_printer.cpp             # –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
‚îî‚îÄ‚îÄ examples/                    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
    ‚îú‚îÄ‚îÄ getopt_example.cpp      # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ getopt
    ‚îî‚îÄ‚îÄ env_vars.cpp            # –†–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

## üöÄ –ó–∞–ø—É—Å–∫

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è

```bash
# Linux/macOS
g++ -std=c++11 -Wall -Wextra arg_printer.cpp -o arg_printer

# Windows (MinGW)
g++ -std=c++11 -Wall -Wextra arg_printer.cpp -o arg_printer.exe
```

### –ó–∞–ø—É—Å–∫

```bash
# –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
./arg_printer arg1 arg2 arg3

# –° —á–∏—Å–ª–æ–≤—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
./arg_printer 10 20 30
```

## üìñ –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å

### –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```cpp
int main(int argc, char* argv[]) {
    // argc - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ (–≤–∫–ª—é—á–∞—è –∏–º—è –ø—Ä–æ–≥—Ä–∞–º–º—ã)
    // argv - –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ (argv[0] - –∏–º—è –ø—Ä–æ–≥—Ä–∞–º–º—ã)
}
```

**–ü—Ä–∏–º–µ—Ä:**
```bash
./program arg1 arg2 arg3
```
- `argc = 4`
- `argv[0] = "./program"`
- `argv[1] = "arg1"`
- `argv[2] = "arg2"`
- `argv[3] = "arg3"`

### –ü–∞—Ä—Å–∏–Ω–≥ –æ–ø—Ü–∏–π

**–ü—Ä–æ—Å—Ç–æ–π –ø–æ–¥—Ö–æ–¥ (arg_printer.cpp):**
- –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ `argv[i]`
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤

**getopt (Unix/Linux):**
```cpp
#include <getopt.h>

int opt;
while ((opt = getopt(argc, argv, "i:o:")) != -1) {
    switch (opt) {
        case 'i': input_file = optarg; break;
        case 'o': output_file = optarg; break;
    }
}
```

**getopt_long (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –æ–ø—Ü–∏–∏):**
```cpp
struct option long_options[] = {
    {"input", required_argument, 0, 'i'},
    {"output", required_argument, 0, 'o'},
    {0, 0, 0, 0}
};
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–î–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º:**
```cpp
#include <cstdlib>

// –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
const char* path = std::getenv("PATH");

// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ –≤ C++)
setenv("MY_VAR", "value", 1);
```

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –í—Å–µ–≥–¥–∞ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è
- –ù–µ —Ö—Ä–∞–Ω–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (—á–∏—Å–ª–∞, –ø—É—Ç–∏, URL)
- –î–∏–∞–ø–∞–∑–æ–Ω—ã –∑–Ω–∞—á–µ–Ω–∏–π
- –°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
```cpp
try {
    int value = std::stoi(argv[1]);
} catch (const std::invalid_argument& e) {
    std::cerr << "–û—à–∏–±–∫–∞: –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —á–∏—Å–ª–∞" << std::endl;
    return 1;
}
```

## üõ† –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å

### –ü—Ä–∏–º–µ—Ä: arg_printer.cpp

–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:
- –ë–∞–∑–æ–≤—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –ò—Ç–µ—Ä–∞—Ü–∏—é –ø–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫ –≤ —á–∏—Å–ª–∞
- –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
```cpp
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
if (argc > 1) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
    for (int i = 1; i < argc; ++i) {
        try {
            int value = std::stoi(argv[i]);
            // ...
        } catch (...) {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
        }
    }
}
```

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

1. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `getopt` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–ø—Ü–∏–π
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–ª–∏–Ω–Ω—ã–µ –æ–ø—Ü–∏–∏ —á–µ—Ä–µ–∑ `getopt_long`
   - –î–æ–±–∞–≤–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É (--help)

2. **–†–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - –ß–∏—Ç–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å fallback: CLI –∞—Ä–≥—É–º–µ–Ω—Ç—ã ‚Üí env vars ‚Üí defaults

3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (path traversal)
   - –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —á–∏—Å–ª–æ–≤—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã
   - –°–∞–Ω–∏—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã

## üîç –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏

1. –ü–æ—á–µ–º—É `argv[0]` –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏ –∫ –ø—Ä–æ–≥—Ä–∞–º–º–µ?
2. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `getopt` –∏ `getopt_long`?
3. –ö–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–≤—è–∑–∞–Ω—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è?
4. –ö–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ–ø—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π?
5. –ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ?

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [getopt(3) manual](https://man7.org/linux/man-pages/man3/getopt.3.html)
- [Environment Variables Security](https://owasp.org/www-community/vulnerabilities/Insecure_Environment_Variables)
- [Command Line Arguments in C++](https://en.cppreference.com/w/cpp/language/main_function)

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** `cpp_base/arg_printer.cpp` (legacy)  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025

