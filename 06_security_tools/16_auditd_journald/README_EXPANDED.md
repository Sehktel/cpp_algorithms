# –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã: auditd –∏ journald

## üöÄ –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ auditd

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo apt-get install auditd audispd-plugins

# –ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã
sudo systemctl start auditd
sudo systemctl enable auditd

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status auditd
```

### –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã auditd

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–∞–≤–∏–ª
sudo auditctl -l

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ñ–∞–π–ª–∞
sudo auditctl -w /etc/passwd -p rwxa -k passwd_changes

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
sudo ausearch -k passwd_changes

# –ü–æ–∏—Å–∫ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
sudo ausearch -ts today
```

### –†–∞–±–æ—Ç–∞ —Å journald

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
journalctl

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–ª—É–∂–±—ã
journalctl -u sshd

# –õ–æ–≥–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
journalctl --since today

# –ü–æ–∏—Å–∫ –≤ –ª–æ–≥–∞—Ö
journalctl -g "failed"
```

## üìñ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### –ü—Ä–∞–≤–∏–ª–∞ auditd

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**
```
-w –ø—É—Ç—å -p –ø—Ä–∞–≤–∞ -k –∫–ª—é—á
```

**–ü—Ä–∞–≤–∞:**
- `r` - —á—Ç–µ–Ω–∏–µ
- `w` - –∑–∞–ø–∏—Å—å
- `x` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- `a` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤

### –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π

- `SYSCALL` - —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã
- `PATH` - –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø—É—Ç—è–º–∏
- `CWD` - —Ç–µ–∫—É—â–∞—è —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
- `EXECVE` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª. –û—Å–Ω–æ–≤–Ω–æ–π README —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–µ–º—ã.


