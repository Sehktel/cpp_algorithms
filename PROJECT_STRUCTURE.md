# Структура проекта cpp_alg

## Новые директории

### 1. `balanced_trees/` - Алгоритмы балансировки деревьев

Дополнительные реализации самобалансирующихся деревьев:

- **`treap/`** - Декартово дерево (Treap)
  - Комбинация BST и кучи
  - Вероятностная балансировка
  
- **`aa_tree/`** - AA Tree (Arne Andersson)
  - Упрощенная версия красно-черного дерева
  - Использует уровни вместо цветов
  
- **`scapegoat_tree/`** - Scapegoat Tree
  - Перестройка поддерева при дисбалансе
  - Не требует parent-указателей

**Уже существующие:**
- `avl_tree/` - AVL дерево
- `red_black_tree/` - Красно-черное дерево
- `splay_tree/` - Splay дерево

### 2. `graphics_engine/` - Софтверный графический движок

Полнофункциональный графический движок на C++:

#### Структура:

```
graphics_engine/
├── core/                    # Ядро движка
│   ├── math/               # Математические утилиты
│   │   ├── vector3.h/cpp   # 3D векторы
│   │   └── matrix4.h/cpp   # Матрицы 4x4
│   ├── renderer/           # Рендерер
│   │   └── framebuffer.h/cpp # Буфер кадра + Z-buffer
│   └── camera/             # Камера
│       └── camera.h/cpp
│
├── rasterization/          # Растеризация
│   ├── bresenham/          # Алгоритм Брезенхема
│   │   ├── line.h/cpp      # Линии
│   │   └── circle.h/cpp    # Окружности
│   └── polygons/           # Полигоны
│       └── fill.h/cpp       # Заполнение (scanline, flood fill)
│
├── textures/               # Текстурирование
│   └── texture.h/cpp       # Текстуры + билинейная фильтрация
│
├── lighting/               # Освещение
│   ├── phong.h/cpp         # Модель Фонга
│   └── gouraud.h/cpp       # Модель Гуро
│
├── geometry/               # Геометрия
│   └── clipping/           # Отсечение
│       └── clipping.h/cpp   # Коэн-Сазерленд, back-face culling
│
└── examples/               # Примеры
    └── basic_example.cpp    # Базовый пример использования
```

#### Реализованные компоненты:

**Растеризация:**
- ✅ Алгоритм Брезенхема для линий
- ✅ Алгоритм Брезенхема для окружностей
- ✅ Заполнение полигонов (scanline)
- ✅ Flood fill

**Текстурирование:**
- ✅ Базовый класс Texture
- ✅ Билинейная фильтрация
- ✅ UV-маппинг

**Освещение:**
- ✅ Модель Фонга (Phong shading)
- ✅ Модель Гуро (Gouraud shading)
- ✅ Диффузное и зеркальное освещение

**Геометрия:**
- ✅ 3D векторы и матрицы
- ✅ Матричные преобразования
- ✅ Отсечение линий (Коэн-Сазерленд)
- ✅ Back-face culling
- ✅ Камера с проекцией

**Рендеринг:**
- ✅ Framebuffer с RGB
- ✅ Z-buffer (depth buffer)
- ✅ Сохранение в BMP

## Сборка

### Графический движок:

```bash
cd graphics_engine
mkdir build
cd build
cmake ..
make
./basic_example
```

### Алгоритмы балансировки:

Каждый алгоритм компилируется отдельно:

```bash
cd balanced_trees/treap
g++ -std=c++17 simple_treap.cxx -o treap
./treap
```

## Планы развития

### Графический движок:

- [ ] Загрузка 3D моделей (OBJ формат)
- [ ] Текстурирование с перспективной коррекцией
- [ ] Mip-mapping
- [ ] Тени (shadow mapping)
- [ ] Прозрачность (alpha blending)
- [ ] Антиалиасинг
- [ ] Окружающее освещение (ambient occlusion)
- [ ] Нормальное маппирование (normal mapping)

### Алгоритмы балансировки:

- [ ] B-дерево
- [ ] B+ дерево
- [ ] 2-3 дерево
- [ ] Weight-balanced tree

## Примечания

- Все алгоритмы реализованы на C++17
- Графический движок использует софтверный рендеринг (без GPU)
- Код содержит подробные комментарии на русском языке
- Примеры демонстрируют использование каждого компонента

